{"version":3,"sources":["./src/app/modules/auth/auth/auth.component.html","./src/app/modules/auth/login/login.component.html","./src/app/modules/auth/register/register.component.html","./src/app/_services/auth.service.ts","./src/app/modules/auth/auth-routing.module.ts","./src/app/modules/auth/auth.module.ts","./src/app/modules/auth/auth/auth.component.scss","./src/app/modules/auth/auth/auth.component.ts","./src/app/modules/auth/login/login.component.scss","./src/app/modules/auth/login/login.component.ts","./src/app/modules/auth/register/register.component.scss","./src/app/modules/auth/register/register.component.ts"],"names":[],"mappings":"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","file":"modules-auth-auth-module-es2015.js","sourcesContent":["export default \"<router-outlet></router-outlet>\\n\"","export default \"<div class=\\\"main-page\\\">\\r\\n    <div class=\\\"col-lg-4 col-md-4 col-sm-12 login-page-block\\\">\\r\\n      <div class=\\\"vertical-center\\\">\\r\\n        <div class=\\\"container\\\">\\r\\n          <div class=\\\"text-center\\\" id=\\\"login-logo\\\">\\r\\n            <img style=\\\"width: 100px\\\" src=\\\"/assets/img/logo.png\\\">\\r\\n          </div>\\r\\n          <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && onSubmit()\\\"  #f=\\\"ngForm\\\" novalidate>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <input type=\\\"login\\\" class=\\\"form-control\\\" id=\\\"username\\\" name=\\\"username\\\" placeholder=\\\"{{'Global.Login' | translate}}\\\" [(ngModel)]=\\\"form.username\\\" required #username=\\\"ngModel\\\" [ngClass]=\\\"f.submitted && username?.invalid ? 'is-invalid' : ''\\\"/>\\r\\n              <span *ngIf=\\\"f.submitted && username.invalid\\\" class=\\\"error invalid-feedback\\\">{{'Global.LoginIsRequired' | translate}}</span>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"{{'Global.Password' | translate}}\\\" [(ngModel)]=\\\"form.password\\\" required #password=\\\"ngModel\\\" [ngClass]=\\\"f.submitted && password?.invalid ? 'is-invalid' : ''\\\"/>\\r\\n              <span *ngIf=\\\"password.errors?.required\\\" class=\\\"error invalid-feedback\\\">{{'Global.PasswordIsRequired' | translate}}</span>\\r\\n              <span *ngIf=\\\"password.errors?.minlength\\\" class=\\\"error invalid-feedback\\\">{{'Global.PasswordToShort' | translate}}</span>\\r\\n            </div>\\r\\n            <button class=\\\"btn btn-secondary btn-lg btn-block\\\">{{'LoginPage.LoginButton' | translate}}</button>\\r\\n         </form>\\r\\n          <div id=\\\"login-copyrights\\\">©{{currentYear}} Patryk Duduś</div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-8 col-md-8 login-page-block\\\" id=\\\"login-right-panel\\\"></div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","export default \"<div class=\\\"register-box\\\">\\n  <div class=\\\"register-logo\\\">\\n    <a href=\\\"../../index2.html\\\"><b>Admin</b>LTE</a>\\n  </div>\\n\\n  <div class=\\\"register-box-body\\\">\\n    <p class=\\\"login-box-msg\\\">Register a new membership</p>\\n\\n    <form action=\\\"../../index.html\\\" method=\\\"post\\\">\\n      <div class=\\\"form-group has-feedback\\\">\\n        <input class=\\\"form-control\\\" placeholder=\\\"Full name\\\" type=\\\"text\\\">\\n        <span class=\\\"glyphicon glyphicon-user form-control-feedback\\\"></span>\\n      </div>\\n      <div class=\\\"form-group has-feedback\\\">\\n        <input class=\\\"form-control\\\" placeholder=\\\"Email\\\" type=\\\"email\\\">\\n        <span class=\\\"glyphicon glyphicon-envelope form-control-feedback\\\"></span>\\n      </div>\\n      <div class=\\\"form-group has-feedback\\\">\\n        <input class=\\\"form-control\\\" placeholder=\\\"Password\\\" type=\\\"password\\\">\\n        <span class=\\\"glyphicon glyphicon-lock form-control-feedback\\\"></span>\\n      </div>\\n      <div class=\\\"form-group has-feedback\\\">\\n        <input class=\\\"form-control\\\" placeholder=\\\"Retype password\\\" type=\\\"password\\\">\\n        <span class=\\\"glyphicon glyphicon-log-in form-control-feedback\\\"></span>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-8\\\">\\n          <div class=\\\"checkbox icheck\\\">\\n            <label>\\n              <input type=\\\"checkbox\\\"> I agree to the <a href=\\\"#\\\">terms</a>\\n            </label>\\n          </div>\\n        </div>\\n        <!-- /.col -->\\n        <div class=\\\"col-xs-4\\\">\\n          <button class=\\\"btn btn-primary btn-block btn-flat\\\" type=\\\"submit\\\">Register</button>\\n        </div>\\n        <!-- /.col -->\\n      </div>\\n    </form>\\n\\n    <div class=\\\"social-auth-links text-center\\\">\\n      <p>- OR -</p>\\n      <a class=\\\"btn btn-block btn-social btn-facebook btn-flat\\\" href=\\\"#\\\"><i class=\\\"fa fa-facebook\\\"></i> Sign up using\\n        Facebook</a>\\n      <a class=\\\"btn btn-block btn-social btn-google btn-flat\\\" href=\\\"#\\\"><i class=\\\"fa fa-google-plus\\\"></i> Sign up using\\n        Google+</a>\\n    </div>\\n\\n    <a [routerLink]=\\\"'/login/'\\\" class=\\\"text-center\\\">I already have a membership</a>\\n  </div>\\n  <!-- /.form-box -->\\n</div>\\n<!-- /.register-box -->\\n\"","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst AUTH_API = 'http://localhost:8080/api/auth/';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' })\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  login(credentials): Observable<any> {\r\n    return this.http.post(AUTH_API + 'signin', {\r\n      username: credentials.username,\r\n      password: credentials.password\r\n    }, httpOptions);\r\n  }\r\n\r\n  register(user): Observable<any> {\r\n    return this.http.post(AUTH_API + 'signup', {\r\n      username: user.username,\r\n      email: user.email,\r\n      password: user.password\r\n    }, httpOptions);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {AuthComponent} from './auth/auth.component';\nimport {LoginComponent} from './login/login.component';\nimport {RegisterComponent} from './register/register.component';\n\n\nconst routes: Routes = [\n  {\n    path: '', component: AuthComponent, children: [\n      {path: '', component: LoginComponent},\n      {path: 'register', component: RegisterComponent}\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {AuthRoutingModule} from './auth-routing.module';\nimport {AuthComponent} from './auth/auth.component';\nimport {LoginComponent} from './login/login.component';\nimport {RegisterComponent} from './register/register.component';\nimport {FormsModule} from '@angular/forms';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [AuthComponent, LoginComponent, RegisterComponent],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule,\n    TranslateModule\n  ]\n})\nexport class AuthModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYXV0aC9hdXRoL2F1dGguY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AuthService} from '../../../_services/auth.service';\nimport {TokenStorageService} from '../../../_services/token-storage.service';\nimport {Router} from '@angular/router';\nimport {ToastrService} from 'ngx-toastr';\n\ndeclare var $;\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit, OnDestroy {\n  form: any = {};\n  isLoggedIn = false;\n  isLoginFailed = false;\n  errorMessage = '';\n  roles: string[] = [];\n  currentYear = new Date().getFullYear();\n\n  constructor(private authService: AuthService, private tokenStorage: TokenStorageService,\n              private router: Router, private toastr: ToastrService) {}\n\n  onSubmit() {\n    this.authService.login(this.form).subscribe(\n      data => {\n        this.tokenStorage.saveToken(data.accessToken);\n        this.tokenStorage.saveUser(data);\n\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n        this.roles = this.tokenStorage.getUser().roles;\n        this.router.navigate(['cpma/dashboard']);\n      },\n      err => {\n        this.toastr.error(err.error.message, 'Error!');\n        this.isLoginFailed = true;\n      }\n    );\n  }\n\n  ngOnInit() {\n    $('body').addClass('hold-transition login-page');\n\n    if (this.tokenStorage.getToken()) {\n      this.isLoggedIn = true;\n      this.roles = this.tokenStorage.getUser().roles;\n    }\n  }\n\n  ngOnDestroy(): void {\n    $('body').removeClass('hold-transition login-page');\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, OnDestroy, OnInit} from '@angular/core';\n\ndeclare var $;\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit, OnDestroy {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    $('body').addClass('hold-transition login-page');\n    $(() => {\n      $('input').iCheck({\n        checkboxClass: 'icheckbox_square-blue',\n        radioClass: 'iradio_square-blue',\n        increaseArea: '20%' /* optional */\n      });\n    });\n  }\n\n  ngOnDestroy(): void {\n    $('body').removeClass('hold-transition login-page');\n  }\n\n}\n"],"sourceRoot":"webpack:///"}